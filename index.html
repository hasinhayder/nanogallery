<html>
<head>
	<title>Nanogallery with Vertical Preview</title>
	<script src="js/jquery-1.10.2.js"></script>
	<script src="js/jquery.transit.js"></script>
	<link href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.min.css" rel="stylesheet">
	<style type="text/css">
	body{
		margin:0px;
		padding:0px;
		overflow: hidden;
	}

	/* Fullscreen Gallery Style */
	.nanogallery{
		position: absolute;
		top:0px;
		left: 0px;
		width: 100%;
		height: 100%;
		background: #222;
		overflow: hidden;
	}

	.nanogallery ul{
		padding: 0px;
		margin:0px;
		position: relative;
		list-style-type: none;
		min-width: 100%;
		width: auto;
		white-space:nowrap;
	}

	.nanogallery ul li{
		list-style-type: none;
		height: 100%;
		display: inline-block;
		overflow: hidden;
		margin-left: -4px;
	}
	.nanogallery ul li:first-child{
		margin: 0px;
	}


	.nanogallery ul li img{
		width: 100%;
	}

	/* Vertical Sidebar */
	.nanogallery-vertical-preview{
		width: 200px;
		position: absolute;
		top:0px;
		right: 0px;
		height: 100%;
	}

	.nanogallery-vertical-preview .thumbs{
		background-color: #222;
		position: absolute;
		margin: 0px;
		height: 100%;
		top:0px;
		width: 170px;
		right: 0px;
		overflow: hidden;
		overflow-y:auto;
	}

	.nanogallery-vertical-preview ul{
		list-style-type: none;
		padding: 0px;
		margin: 0px;
		position: relative;
		width: 170px;
	}

	.nanogallery-vertical-preview ul li{
		padding: 0px;
		margin: 0px;
		cursor: pointer;
	}

	.nanogallery-vertical-preview ul li img{
		width: 100%;
		float: left;
		-webkit-filter: grayscale(100%);
		-moz-filter: grayscale(100%);
		-ms-filter: grayscale(100%);
		-o-filter: grayscale(100%);
		filter: grayscale(100%);
	}

	.nanogallery-vertical-preview ul li img:hover{
		width: 100%;
		float: left;
		-webkit-filter: grayscale(0%);
		-moz-filter: grayscale(0%);
		-ms-filter: grayscale(0%);
		-o-filter: grayscale(0%);
		filter: grayscale(0%);
	}

	.nanogallery-vertical-preview .switch{
		position: fixed;
		height: 60px;
		line-height: 60px;
		width: 30px;
		text-align: center;
		color: #eee;
		font-size: 22px;
		top:300px;
		background: rgba(0,0,0,0.9);
		cursor: pointer;
		z-index: 1000;
	}

	.nanogallery-vertical-preview .switch i{
		line-height: 60px;
	}

	/* Horizontal Sidebar */
	.nanogallery-horizontal-preview{
		/*height: 160px;*/
		position: absolute;
		bottom:0px;
		left: 0px;
		width: 100%;
	}

	.nanogallery-horizontal-preview .switch{
		height: 40px;
		width:60px;
		text-align: center;
		background-color: rgba(0,0,0,0.8);
		color: #eee;
		cursor: pointer;
		position: fixed;
		z-index: 2000;
		left:48%;
		margin-top:-40px;
	}
	.nanogallery-horizontal-preview .switch i{
		line-height: 35px;
	}
	.nanogallery-horizontal-preview .thumbs{
		overflow: hidden;
		overflow-x: auto;

	}
	.nanogallery-horizontal-preview .thumbs ul{
		position: relative;
		/*top:30px;*/
		list-style-type: none;
		white-space: nowrap;
		width: auto;
		padding: 0px;
		margin: 0px;
		min-width: 100%;
		height: 145px;
	}

	.nanogallery-horizontal-preview .thumbs ul li{
		display: inline-block;
		margin-left: -4px;
		cursor: pointer;
	}

	.nanogallery-horizontal-preview .thumbs ul li img{
		height: 100%;
		-webkit-filter: grayscale(100%);
		-moz-filter: grayscale(100%);
		-ms-filter: grayscale(100%);
		-o-filter: grayscale(100%);
		filter: grayscale(100%);
	}

	.nanogallery-horizontal-preview .thumbs ul li img:hover{
		height: 100%;
		-webkit-filter: grayscale(0%);
		-moz-filter: grayscale(0%);
		-ms-filter: grayscale(0%);
		-o-filter: grayscale(0%);
		filter: grayscale(0%);

	}

	/* Fork Image*/
	.fork{
		position: absolute;
		top:0;
		left: 0;
		z-index: 2000;
	}

	/*Title Placeholder*/
	.title{
		position: absolute;
		top: 0px;
		left: 0px;
		background-color: rgba(0,0,0,0.6);
		text-align: center;
		min-height: 40px;
		width: 100%;
		padding-top:20px;
		color:#ccc;
		font-size: 16px;
		z-index: 1000;
		display: none;
	}

	/**Scrollbar Hack for Webkit **/
	::-webkit-scrollbar-track {
		-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3); 
		-webkit-border-radius: 10px;
		border-radius: 10px;
	}

	/* Handle */
	::-webkit-scrollbar-thumb {
		-webkit-border-radius: 10px;
		border-radius: 10px;
		background: rgba(255,0,0,0.8); 
		-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.5); 
	}
	::-webkit-scrollbar-thumb:window-inactive {
		background: rgba(255,0,0,0.4); 
	}
	</style>
</head>
<body>
	<div class="title">
		
	</div>
	<div class="fork">
		<a href='http://github.com/hasinhayder/nanogallery' target='_blank'><img src="img/fork.png" alt="" ></a>
	</div>
	<div class="nanogallery" data-thumb="vertical" data-show-title='true'>
		<ul>
			<li data-title="Climb leg rub face on everything give attitude nap all day for under the bed 1.">
				<img src="http://placehold.it/2400x1400/3498db/eee" >
			</li>
			<li  data-title="Climb leg rub face on everything give attitude nap all day for under the bed 2.">
				<img src="http://placehold.it/2400x1400/27ae60/eee" >
			</li>
			<li  data-title="Climb leg rub face on everything give attitude nap all day for under the bed 3.">
				<img src="http://placehold.it/2400x1400/c0392b/eee" >
			</li>
			<li>
				<img src="http://placehold.it/2400x1400/8e44ad/eee" >
			</li>
			<li>
				<img src="http://placehold.it/2400x1400/e67e22/eee" >
			</li>
			<li>
				<img src="http://placehold.it/2400x1400/2c3e50/eee" >
			</li>
			<li>
				<img src="http://placehold.it/2400x1400/2980b9/eee" >
			</li>
			<li>
				<img src="http://placehold.it/2400x1400/7f8c8d/eee" >
			</li>
			<li>
				<img src="http://placehold.it/2400x1400/e67e22/eee" >
			</li>
			<li>
				<img src="http://placehold.it/2400x1400/16a085/eee" >
			</li>
			<li>
				<img src="http://placehold.it/2400x1400/bdc3c7/222" >
			</li>
		</ul>
	</div>
	<div class="nanogallery-vertical-preview vcollapsed">
		<div class="switch">
			<i class="icon-chevron-left"></i>
		</div>
		<div class="thumbs">
			<ul>
				<li>
					<img src="http://placehold.it/200x133/3498db/eee" >
				</li>
				<li>
					<img src="http://placehold.it/200x133/27ae60/eee" >
				</li>
				<li>
					<img src="http://placehold.it/200x133/c0392b/eee" >
				</li>
				<li>
					<img src="http://placehold.it/200x133/8e44ad/eee" >
				</li>
				<li>
					<img src="http://placehold.it/200x133/e67e22/eee" >
				</li>
				<li>
					<img src="http://placehold.it/200x133/2c3e50/eee" >
				</li>
				<li>
					<img src="http://placehold.it/200x133/2980b9/eee" >
				</li>
				<li>
					<img src="http://placehold.it/200x133/7f8c8d/eee" >
				</li>
				<li>
					<img src="http://placehold.it/200x133/e67e22/eee" >
				</li>
				<li>
					<img src="http://placehold.it/200x133/16a085/eee" >
				</li>
				<li>
					<img src="http://placehold.it/200x133/bdc3c7/222" >
				</li>
			</ul>
		</div>
	</div>
	<div class="nanogallery-horizontal-preview vcollapsed">
		<div class="switch">
			<i class="icon-chevron-up"></i>
		</div>
		<div class="thumbs">
			<ul>
				<li>
					<img src="http://placehold.it/200x133/3498db/eee" >
				</li>
				<li>
					<img src="http://placehold.it/200x133/27ae60/eee" >
				</li>
				<li>
					<img src="http://placehold.it/200x133/c0392b/eee" >
				</li>
				<li>
					<img src="http://placehold.it/200x133/8e44ad/eee" >
				</li>
				<li>
					<img src="http://placehold.it/200x133/e67e22/eee" >
				</li>
				<li>
					<img src="http://placehold.it/200x133/2c3e50/eee" >
				</li>
				<li>
					<img src="http://placehold.it/200x133/2980b9/eee" >
				</li>
				<li>
					<img src="http://placehold.it/200x133/7f8c8d/eee" >
				</li>
				<li>
					<img src="http://placehold.it/200x133/e67e22/eee" >
				</li>
				<li>
					<img src="http://placehold.it/200x133/16a085/eee" >
				</li>
				<li>
					<img src="http://placehold.it/200x133/bdc3c7/222" >
				</li>
			</ul>
		</div>
	</div>
	<script>

	(function($) {
		$.fn.hasScrollBar = function() {
			return this.get(0) ? this.get(0).scrollWidth > this.innerWidth() : false;
		}
	})(jQuery);

	$(document).ready(function(){
		/* Initialize */
		var counter = 1;
		var limit = $(".nanogallery ul li").length;
		var w = $(".nanogallery").width();
		var h = $(".nanogallery").height();
		$(".nanogallery ul li").css({width:w,height:h});

		//hook left and right arrow keypress
		$(document).keydown(function(e){
			if (e.keyCode == 37) { 
				moveSlider(counter-2);
				return false;
			}
			if (e.keyCode == 39) { 
				moveSlider(counter);
				return false;
			}
		});

		//initialize the title
		if($(".nanogallery").data("show-title")==true){
			$(".title").show();
			$(".title").html($(".nanogallery ul li:first-child").data("title"));
		}

		$(".nanogallery ul li img").bind("click",function(){
			var title = "";
			if(counter>=limit){
				$(".nanogallery ul").transition({
					x:0
				},1000*limit/2,"ease");
				counter=1;
				title = $(".nanogallery ul li:first-child").data("title");
			}else{
				$(".nanogallery ul").transition({
					x:(w*-1*counter)
				},1000,"ease");
				counter+=1;
				title = $(this).parent().next().data("title");
			}
			if(title==undefined) title = "&nbsp;";
			$(".title").html(title);

		});

		//bind the click event for vertical switch
		$(".nanogallery-vertical-preview .switch").bind("click",function(){
			if($(".nanogallery-vertical-preview").hasClass("vcollapsed")){
				$(".nanogallery-vertical-preview").transition({
					x:170
				},500,"snap")
				$(this).html('<i class="icon-chevron-left"></i>');
				$(".nanogallery-vertical-preview").removeClass("vcollapsed")
			}else{
				$(this).html('<i class="icon-chevron-right"></i>');
				$(".nanogallery-vertical-preview").transition({
					x:0
				},500,"snap");
				$(".nanogallery-vertical-preview").addClass("vcollapsed")
			}
		});

		//click event for each thumbnail in vertical preview
		$(".nanogallery-vertical-preview li").bind("click",function(){
			var i = $(".nanogallery-vertical-preview li").index(this);
			moveSlider(i);
		});


		//bind the click event for horizontal switch
		$(".nanogallery-horizontal-preview .switch").bind("click",function(){
			if($(".nanogallery-horizontal-preview").hasClass("vcollapsed")){
				$(".nanogallery-horizontal-preview").transition({
					y:160
				},500,"snap")
				$(this).html('<i class="icon-chevron-up"></i>');
				$(".nanogallery-horizontal-preview").removeClass("vcollapsed")
			}else{
				$(this).html('<i class="icon-chevron-down"></i>');
				$(".nanogallery-horizontal-preview").transition({
					y:0
				},500,"snap");
				$(".nanogallery-horizontal-preview").addClass("vcollapsed")
			}
		});

		//click event for each thumbnail in horizontal preview
		$(".nanogallery-horizontal-preview li").bind("click",function(){
			var i = $(".nanogallery-horizontal-preview li").index(this);
			moveSlider(i);
		});

		//trigger collapse
		$(".nanogallery-vertical-preview .switch").click();
		$(".nanogallery-horizontal-preview .switch").click();

		$(window).bind("resize",function(){
			w = $(".nanogallery").width();
			h = $(".nanogallery").height();
			$(".nanogallery ul li").css({width:w,height:h});
			moveSlider(counter-1);
		})

		//move the slider to the appropriate image
		function moveSlider(i){
			var title = $(".nanogallery ul li:nth-child("+(i+1)+")").data("title");
			if(title==undefined) title = "&nbsp;";
			$(".title").html(title);
			
			var time = Math.abs(counter-(i+1))/2;
			if(time<1) time=1;
			counter=i+1;
			$(".nanogallery ul").transition({
				x:(w*-1*i)
			},1000*time,"ease");
		}

		//adjust the horizontal switch height because of Webkit's intelligent scrollbar hide feature
		if($(".nanogallery-horizontal-preview .thumbs").hasScrollBar()){
			$(".nanogallery-horizontal-preview .switch").css({
				height:"30px",
				lineHeight:"30px",
				marginTop:"-30px"
			});
		}



	});
</script>

</body>
</html>
